ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"lidar.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.ld_buff_to_data,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	ld_buff_to_data:
  25              	.LVL0:
  26              	.LFB144:
  27              		.file 1 "modules/lidar/lidar.c"
   1:modules/lidar/lidar.c **** #include "lidar.h"
   2:modules/lidar/lidar.c **** #include "bsp_usart.h"
   3:modules/lidar/lidar.c **** #include "daemon.h"
   4:modules/lidar/lidar.c **** #include <string.h>
   5:modules/lidar/lidar.c **** 
   6:modules/lidar/lidar.c **** #define LIDAR_FRAME_SIZE 9 // lidar receive buffer size
   7:modules/lidar/lidar.c **** 
   8:modules/lidar/lidar.c **** static LD_data_t *ld_data;
   9:modules/lidar/lidar.c **** static DaemonInstance *ld_daemon_instance;
  10:modules/lidar/lidar.c **** static USARTInstance *lld_instance; // left lidar
  11:modules/lidar/lidar.c **** static USARTInstance *rld_instance; // right lidar
  12:modules/lidar/lidar.c **** /**
  13:modules/lidar/lidar.c ****  * @brief lidar data parses
  14:modules/lidar/lidar.c ****  * 内部判断usart_instance给左右lidar赋值
  15:modules/lidar/lidar.c ****  * @param ld_buff 接收buffer
  16:modules/lidar/lidar.c ****  */
  17:modules/lidar/lidar.c **** static uint16_t ld_buff_to_data(const uint8_t *ld_buff)
  18:modules/lidar/lidar.c **** {
  28              		.loc 1 18 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  19:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  33              		.loc 1 19 5 view .LVU1
  34              		.loc 1 19 17 is_stmt 0 view .LVU2
  35 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  36              		.loc 1 19 8 view .LVU3
  37 0002 592B     		cmp	r3, #89
  38 0004 01D0     		beq	.L8
  20:modules/lidar/lidar.c ****     {
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 2


  21:modules/lidar/lidar.c ****         uint8_t checksum = 0;
  22:modules/lidar/lidar.c ****         for (uint8_t i = 0; i < 8; i++)
  23:modules/lidar/lidar.c ****         {
  24:modules/lidar/lidar.c ****             checksum += ld_buff[i];
  25:modules/lidar/lidar.c ****         }
  26:modules/lidar/lidar.c ****         if (checksum == ld_buff[8])
  27:modules/lidar/lidar.c ****         {
  28:modules/lidar/lidar.c ****             return (uint16_t)(ld_buff[3] << 8 | ld_buff[2]);
  29:modules/lidar/lidar.c ****         }
  30:modules/lidar/lidar.c ****     }
  31:modules/lidar/lidar.c ****     return 0; // 协议错误
  39              		.loc 1 31 12 view .LVU4
  40 0006 0020     		movs	r0, #0
  41              	.LVL1:
  42              		.loc 1 31 12 view .LVU5
  43 0008 7047     		bx	lr
  44              	.LVL2:
  45              	.L8:
  19:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  46              		.loc 1 19 41 discriminator 1 view .LVU6
  47 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  19:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  48              		.loc 1 19 30 discriminator 1 view .LVU7
  49 000c 592B     		cmp	r3, #89
  50 000e 0DD0     		beq	.L6
  51              		.loc 1 31 12 view .LVU8
  52 0010 0020     		movs	r0, #0
  53              	.LVL3:
  54              		.loc 1 31 12 view .LVU9
  55 0012 7047     		bx	lr
  56              	.LVL4:
  57              	.L4:
  58              	.LBB2:
  59              	.LBB3:
  24:modules/lidar/lidar.c ****         }
  60              		.loc 1 24 13 is_stmt 1 discriminator 3 view .LVU10
  24:modules/lidar/lidar.c ****         }
  61              		.loc 1 24 32 is_stmt 0 discriminator 3 view .LVU11
  62 0014 C15C     		ldrb	r1, [r0, r3]	@ zero_extendqisi2
  24:modules/lidar/lidar.c ****         }
  63              		.loc 1 24 22 discriminator 3 view .LVU12
  64 0016 0A44     		add	r2, r2, r1
  65              	.LVL5:
  24:modules/lidar/lidar.c ****         }
  66              		.loc 1 24 22 discriminator 3 view .LVU13
  67 0018 D2B2     		uxtb	r2, r2
  68              	.LVL6:
  22:modules/lidar/lidar.c ****         {
  69              		.loc 1 22 36 is_stmt 1 discriminator 3 view .LVU14
  22:modules/lidar/lidar.c ****         {
  70              		.loc 1 22 37 is_stmt 0 discriminator 3 view .LVU15
  71 001a 0133     		adds	r3, r3, #1
  72              	.LVL7:
  22:modules/lidar/lidar.c ****         {
  73              		.loc 1 22 37 discriminator 3 view .LVU16
  74 001c DBB2     		uxtb	r3, r3
  75              	.LVL8:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 3


  76              	.L3:
  22:modules/lidar/lidar.c ****         {
  77              		.loc 1 22 29 is_stmt 1 discriminator 1 view .LVU17
  22:modules/lidar/lidar.c ****         {
  78              		.loc 1 22 9 is_stmt 0 discriminator 1 view .LVU18
  79 001e 072B     		cmp	r3, #7
  80 0020 F8D9     		bls	.L4
  81              	.LBE3:
  26:modules/lidar/lidar.c ****         {
  82              		.loc 1 26 9 is_stmt 1 view .LVU19
  26:modules/lidar/lidar.c ****         {
  83              		.loc 1 26 32 is_stmt 0 view .LVU20
  84 0022 037A     		ldrb	r3, [r0, #8]	@ zero_extendqisi2
  85              	.LVL9:
  26:modules/lidar/lidar.c ****         {
  86              		.loc 1 26 12 view .LVU21
  87 0024 9342     		cmp	r3, r2
  88 0026 04D0     		beq	.L9
  89              	.LBE2:
  90              		.loc 1 31 12 view .LVU22
  91 0028 0020     		movs	r0, #0
  92              	.LVL10:
  32:modules/lidar/lidar.c **** }
  93              		.loc 1 32 1 view .LVU23
  94 002a 7047     		bx	lr
  95              	.LVL11:
  96              	.L6:
  97              	.LBB5:
  98              	.LBB4:
  22:modules/lidar/lidar.c ****         {
  99              		.loc 1 22 22 view .LVU24
 100 002c 0023     		movs	r3, #0
 101              	.LBE4:
  21:modules/lidar/lidar.c ****         for (uint8_t i = 0; i < 8; i++)
 102              		.loc 1 21 17 view .LVU25
 103 002e 1A46     		mov	r2, r3
 104 0030 F5E7     		b	.L3
 105              	.LVL12:
 106              	.L9:
  28:modules/lidar/lidar.c ****         }
 107              		.loc 1 28 13 is_stmt 1 view .LVU26
  28:modules/lidar/lidar.c ****         }
 108              		.loc 1 28 38 is_stmt 0 view .LVU27
 109 0032 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  28:modules/lidar/lidar.c ****         }
 110              		.loc 1 28 56 view .LVU28
 111 0034 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 112              	.LVL13:
  28:modules/lidar/lidar.c ****         }
 113              		.loc 1 28 20 view .LVU29
 114 0036 40EA0320 		orr	r0, r0, r3, lsl #8
 115 003a 7047     		bx	lr
 116              	.LBE5:
 117              		.cfi_endproc
 118              	.LFE144:
 120              		.section	.text.LDLostCallback,"ax",%progbits
 121              		.align	1
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 4


 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 126              	LDLostCallback:
 127              	.LVL14:
 128              	.LFB146:
  33:modules/lidar/lidar.c **** 
  34:modules/lidar/lidar.c **** /**
  35:modules/lidar/lidar.c ****  * @brief ld_buff_to_data,用于注册到bsp_usart的回调函数中
  36:modules/lidar/lidar.c ****  *
  37:modules/lidar/lidar.c ****  * @note huart2: the address of left lidar usart handle
  38:modules/lidar/lidar.c ****  *       huart4: the address of right lidar usart handle
  39:modules/lidar/lidar.c ****  */
  40:modules/lidar/lidar.c **** static void LDRxCallback(UART_HandleTypeDef *huart, uint16_t Size) // 串口接收回调_
  41:modules/lidar/lidar.c **** {
  42:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // 先喂狗
  43:modules/lidar/lidar.c ****     if (huart == &huart2)
  44:modules/lidar/lidar.c ****     {
  45:modules/lidar/lidar.c ****         ld_data->lld_distance = ld_buff_to_data(lld_instance->recv_buff); // 进行协议解析
  46:modules/lidar/lidar.c ****     }
  47:modules/lidar/lidar.c ****     else if (huart == &huart4)
  48:modules/lidar/lidar.c ****     {
  49:modules/lidar/lidar.c ****         ld_data->rld_distance = ld_buff_to_data(rld_instance->recv_buff);
  50:modules/lidar/lidar.c ****     }
  51:modules/lidar/lidar.c **** }
  52:modules/lidar/lidar.c **** 
  53:modules/lidar/lidar.c **** /**
  54:modules/lidar/lidar.c ****  * @brief 雷达离线的回调函数,注册到守护进程中,串口掉线时调用
  55:modules/lidar/lidar.c ****  * @note huart2: the address of left lidar usart handle
  56:modules/lidar/lidar.c ****  *       huart4: the address of right lidar usart handle
  57:modules/lidar/lidar.c ****  */
  58:modules/lidar/lidar.c **** static void LDLostCallback(void *id) // id is corresponding usart handle
  59:modules/lidar/lidar.c **** {
 129              		.loc 1 59 1 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		.loc 1 59 1 is_stmt 0 view .LVU31
 134 0000 08B5     		push	{r3, lr}
 135              	.LCFI0:
 136              		.cfi_def_cfa_offset 8
 137              		.cfi_offset 3, -8
 138              		.cfi_offset 14, -4
  60:modules/lidar/lidar.c ****     if (id == &huart2) // left lidar handle
 139              		.loc 1 60 5 is_stmt 1 view .LVU32
 140              		.loc 1 60 8 is_stmt 0 view .LVU33
 141 0002 064B     		ldr	r3, .L15
 142 0004 8342     		cmp	r3, r0
 143 0006 04D0     		beq	.L14
  61:modules/lidar/lidar.c ****     {
  62:modules/lidar/lidar.c ****         // memset(ld_data->lld_distance, 0, sizeof(ld_data->lld_distance)); // 清空数据
  63:modules/lidar/lidar.c ****         USARTServiceInit(lld_instance); // 尝试重新启动接收
  64:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
  65:modules/lidar/lidar.c ****     }
  66:modules/lidar/lidar.c ****     else
  67:modules/lidar/lidar.c ****     {
  68:modules/lidar/lidar.c ****         // memset(ld_data->rld_distance, 0, sizeof(ld_data->rld_distance)); // 清空数据
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 5


  69:modules/lidar/lidar.c ****         USARTServiceInit(rld_instance); // 尝试重新启动接收
 144              		.loc 1 69 9 is_stmt 1 view .LVU34
 145 0008 054B     		ldr	r3, .L15+4
 146 000a 1868     		ldr	r0, [r3]
 147              	.LVL15:
 148              		.loc 1 69 9 is_stmt 0 view .LVU35
 149 000c FFF7FEFF 		bl	USARTServiceInit
 150              	.LVL16:
 151              	.L10:
  70:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] right lidar lost");
  71:modules/lidar/lidar.c ****     }
  72:modules/lidar/lidar.c **** }
 152              		.loc 1 72 1 view .LVU36
 153 0010 08BD     		pop	{r3, pc}
 154              	.LVL17:
 155              	.L14:
  63:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
 156              		.loc 1 63 9 is_stmt 1 view .LVU37
 157 0012 044B     		ldr	r3, .L15+8
 158 0014 1868     		ldr	r0, [r3]
 159              	.LVL18:
  63:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
 160              		.loc 1 63 9 is_stmt 0 view .LVU38
 161 0016 FFF7FEFF 		bl	USARTServiceInit
 162              	.LVL19:
 163 001a F9E7     		b	.L10
 164              	.L16:
 165              		.align	2
 166              	.L15:
 167 001c 00000000 		.word	huart2
 168 0020 00000000 		.word	.LANCHOR1
 169 0024 00000000 		.word	.LANCHOR0
 170              		.cfi_endproc
 171              	.LFE146:
 173              		.section	.text.LDRxCallback,"ax",%progbits
 174              		.align	1
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	LDRxCallback:
 180              	.LVL20:
 181              	.LFB145:
  41:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // 先喂狗
 182              		.loc 1 41 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
  41:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // 先喂狗
 186              		.loc 1 41 1 is_stmt 0 view .LVU40
 187 0000 10B5     		push	{r4, lr}
 188              	.LCFI1:
 189              		.cfi_def_cfa_offset 8
 190              		.cfi_offset 4, -8
 191              		.cfi_offset 14, -4
 192 0002 0446     		mov	r4, r0
  42:modules/lidar/lidar.c ****     if (huart == &huart2)
 193              		.loc 1 42 5 is_stmt 1 view .LVU41
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 6


 194 0004 0D4B     		ldr	r3, .L23
 195 0006 1868     		ldr	r0, [r3]
 196              	.LVL21:
  42:modules/lidar/lidar.c ****     if (huart == &huart2)
 197              		.loc 1 42 5 is_stmt 0 view .LVU42
 198 0008 FFF7FEFF 		bl	DaemonReload
 199              	.LVL22:
  43:modules/lidar/lidar.c ****     {
 200              		.loc 1 43 5 is_stmt 1 view .LVU43
  43:modules/lidar/lidar.c ****     {
 201              		.loc 1 43 8 is_stmt 0 view .LVU44
 202 000c 0C4B     		ldr	r3, .L23+4
 203 000e 9C42     		cmp	r4, r3
 204 0010 03D0     		beq	.L21
  47:modules/lidar/lidar.c ****     {
 205              		.loc 1 47 10 is_stmt 1 view .LVU45
  47:modules/lidar/lidar.c ****     {
 206              		.loc 1 47 13 is_stmt 0 view .LVU46
 207 0012 0C4B     		ldr	r3, .L23+8
 208 0014 9C42     		cmp	r4, r3
 209 0016 08D0     		beq	.L22
 210              	.L17:
  51:modules/lidar/lidar.c **** 
 211              		.loc 1 51 1 view .LVU47
 212 0018 10BD     		pop	{r4, pc}
 213              	.LVL23:
 214              	.L21:
  45:modules/lidar/lidar.c ****     }
 215              		.loc 1 45 9 is_stmt 1 view .LVU48
  45:modules/lidar/lidar.c ****     }
 216              		.loc 1 45 61 is_stmt 0 view .LVU49
 217 001a 0B4B     		ldr	r3, .L23+12
 218 001c 1B68     		ldr	r3, [r3]
  45:modules/lidar/lidar.c ****     }
 219              		.loc 1 45 33 view .LVU50
 220 001e 1868     		ldr	r0, [r3]
 221 0020 FFF7FEFF 		bl	ld_buff_to_data
 222              	.LVL24:
  45:modules/lidar/lidar.c ****     }
 223              		.loc 1 45 31 view .LVU51
 224 0024 0023     		movs	r3, #0
 225 0026 1880     		strh	r0, [r3]	@ movhi
 226 0028 F6E7     		b	.L17
 227              	.L22:
  49:modules/lidar/lidar.c ****     }
 228              		.loc 1 49 9 is_stmt 1 view .LVU52
  49:modules/lidar/lidar.c ****     }
 229              		.loc 1 49 61 is_stmt 0 view .LVU53
 230 002a 084B     		ldr	r3, .L23+16
 231 002c 1B68     		ldr	r3, [r3]
  49:modules/lidar/lidar.c ****     }
 232              		.loc 1 49 33 view .LVU54
 233 002e 1868     		ldr	r0, [r3]
 234 0030 FFF7FEFF 		bl	ld_buff_to_data
 235              	.LVL25:
  49:modules/lidar/lidar.c ****     }
 236              		.loc 1 49 31 view .LVU55
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 7


 237 0034 0023     		movs	r3, #0
 238 0036 5880     		strh	r0, [r3, #2]	@ movhi
  51:modules/lidar/lidar.c **** 
 239              		.loc 1 51 1 view .LVU56
 240 0038 EEE7     		b	.L17
 241              	.L24:
 242 003a 00BF     		.align	2
 243              	.L23:
 244 003c 00000000 		.word	.LANCHOR2
 245 0040 00000000 		.word	huart2
 246 0044 00000000 		.word	huart4
 247 0048 00000000 		.word	.LANCHOR0
 248 004c 00000000 		.word	.LANCHOR1
 249              		.cfi_endproc
 250              	.LFE145:
 252              		.section	.text.Lidar_Init,"ax",%progbits
 253              		.align	1
 254              		.global	Lidar_Init
 255              		.syntax unified
 256              		.thumb
 257              		.thumb_func
 259              	Lidar_Init:
 260              	.LVL26:
 261              	.LFB147:
  73:modules/lidar/lidar.c **** 
  74:modules/lidar/lidar.c **** LD_data_t *Lidar_Init(UART_HandleTypeDef *ld_usart_handle)
  75:modules/lidar/lidar.c **** {
 262              		.loc 1 75 1 is_stmt 1 view -0
 263              		.cfi_startproc
 264              		@ args = 0, pretend = 0, frame = 24
 265              		@ frame_needed = 0, uses_anonymous_args = 0
 266              		.loc 1 75 1 is_stmt 0 view .LVU58
 267 0000 10B5     		push	{r4, lr}
 268              	.LCFI2:
 269              		.cfi_def_cfa_offset 8
 270              		.cfi_offset 4, -8
 271              		.cfi_offset 14, -4
 272 0002 86B0     		sub	sp, sp, #24
 273              	.LCFI3:
 274              		.cfi_def_cfa_offset 32
 275 0004 0446     		mov	r4, r0
  76:modules/lidar/lidar.c ****     USART_Init_Config_s conf;
 276              		.loc 1 76 5 is_stmt 1 view .LVU59
  77:modules/lidar/lidar.c ****     conf.module_callback = LDRxCallback;
 277              		.loc 1 77 5 view .LVU60
 278              		.loc 1 77 26 is_stmt 0 view .LVU61
 279 0006 154B     		ldr	r3, .L31
 280 0008 0593     		str	r3, [sp, #20]
  78:modules/lidar/lidar.c ****     conf.usart_handle = ld_usart_handle;
 281              		.loc 1 78 5 is_stmt 1 view .LVU62
 282              		.loc 1 78 23 is_stmt 0 view .LVU63
 283 000a 0490     		str	r0, [sp, #16]
  79:modules/lidar/lidar.c ****     conf.recv_buff_size = LIDAR_FRAME_SIZE;
 284              		.loc 1 79 5 is_stmt 1 view .LVU64
 285              		.loc 1 79 25 is_stmt 0 view .LVU65
 286 000c 0923     		movs	r3, #9
 287 000e 8DF80C30 		strb	r3, [sp, #12]
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 8


  80:modules/lidar/lidar.c ****     if (ld_usart_handle == &huart2) // left lidar handle
 288              		.loc 1 80 5 is_stmt 1 view .LVU66
 289              		.loc 1 80 8 is_stmt 0 view .LVU67
 290 0012 134B     		ldr	r3, .L31+4
 291 0014 9842     		cmp	r0, r3
 292 0016 10D0     		beq	.L29
  81:modules/lidar/lidar.c ****     {
  82:modules/lidar/lidar.c ****         ld_data->lld_distance = 0;
  83:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
  84:modules/lidar/lidar.c ****     }
  85:modules/lidar/lidar.c ****     else if (ld_usart_handle == &huart4) // right lidar handle
 293              		.loc 1 85 10 is_stmt 1 view .LVU68
 294              		.loc 1 85 13 is_stmt 0 view .LVU69
 295 0018 124B     		ldr	r3, .L31+8
 296 001a 9842     		cmp	r0, r3
 297 001c 15D0     		beq	.L30
 298              	.LVL27:
 299              	.L27:
  86:modules/lidar/lidar.c ****     {
  87:modules/lidar/lidar.c ****         ld_data->rld_distance = 0;
  88:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
  89:modules/lidar/lidar.c ****     }
  90:modules/lidar/lidar.c **** 
  91:modules/lidar/lidar.c ****     Daemon_Init_Config_s daemon_conf = {
 300              		.loc 1 91 5 is_stmt 1 view .LVU70
 301              		.loc 1 91 26 is_stmt 0 view .LVU71
 302 001e 0223     		movs	r3, #2
 303 0020 ADF80030 		strh	r3, [sp]	@ movhi
 304 0024 104B     		ldr	r3, .L31+12
 305 0026 0193     		str	r3, [sp, #4]
 306 0028 0294     		str	r4, [sp, #8]
  92:modules/lidar/lidar.c ****         .reload_count = 2, // 看门狗待了解_ 20ms没收到消息  输出频率默认为100Hz->
  93:modules/lidar/lidar.c ****         .callback = LDLostCallback,
  94:modules/lidar/lidar.c ****         .owner_id = ld_usart_handle,
  95:modules/lidar/lidar.c ****     };
  96:modules/lidar/lidar.c ****     ld_daemon_instance = DaemonRegister(&daemon_conf);
 307              		.loc 1 96 5 is_stmt 1 view .LVU72
 308              		.loc 1 96 26 is_stmt 0 view .LVU73
 309 002a 6846     		mov	r0, sp
 310 002c FFF7FEFF 		bl	DaemonRegister
 311              	.LVL28:
 312              		.loc 1 96 24 view .LVU74
 313 0030 0E4B     		ldr	r3, .L31+16
 314 0032 1860     		str	r0, [r3]
  97:modules/lidar/lidar.c ****     return ld_data;
 315              		.loc 1 97 5 is_stmt 1 view .LVU75
  98:modules/lidar/lidar.c **** }
 316              		.loc 1 98 1 is_stmt 0 view .LVU76
 317 0034 0020     		movs	r0, #0
 318 0036 06B0     		add	sp, sp, #24
 319              	.LCFI4:
 320              		.cfi_remember_state
 321              		.cfi_def_cfa_offset 8
 322              		@ sp needed
 323 0038 10BD     		pop	{r4, pc}
 324              	.LVL29:
 325              	.L29:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 9


 326              	.LCFI5:
 327              		.cfi_restore_state
  82:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
 328              		.loc 1 82 9 is_stmt 1 view .LVU77
  82:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
 329              		.loc 1 82 31 is_stmt 0 view .LVU78
 330 003a 0023     		movs	r3, #0
 331 003c 1B80     		strh	r3, [r3]	@ movhi
  83:modules/lidar/lidar.c ****     }
 332              		.loc 1 83 9 is_stmt 1 view .LVU79
  83:modules/lidar/lidar.c ****     }
 333              		.loc 1 83 24 is_stmt 0 view .LVU80
 334 003e 03A8     		add	r0, sp, #12
 335              	.LVL30:
  83:modules/lidar/lidar.c ****     }
 336              		.loc 1 83 24 view .LVU81
 337 0040 FFF7FEFF 		bl	USARTRegister
 338              	.LVL31:
  83:modules/lidar/lidar.c ****     }
 339              		.loc 1 83 22 view .LVU82
 340 0044 0A4B     		ldr	r3, .L31+20
 341 0046 1860     		str	r0, [r3]
 342 0048 E9E7     		b	.L27
 343              	.LVL32:
 344              	.L30:
  87:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
 345              		.loc 1 87 9 is_stmt 1 view .LVU83
  87:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
 346              		.loc 1 87 31 is_stmt 0 view .LVU84
 347 004a 0023     		movs	r3, #0
 348 004c 5B80     		strh	r3, [r3, #2]	@ movhi
  88:modules/lidar/lidar.c ****     }
 349              		.loc 1 88 9 is_stmt 1 view .LVU85
  88:modules/lidar/lidar.c ****     }
 350              		.loc 1 88 24 is_stmt 0 view .LVU86
 351 004e 03A8     		add	r0, sp, #12
 352              	.LVL33:
  88:modules/lidar/lidar.c ****     }
 353              		.loc 1 88 24 view .LVU87
 354 0050 FFF7FEFF 		bl	USARTRegister
 355              	.LVL34:
  88:modules/lidar/lidar.c ****     }
 356              		.loc 1 88 22 view .LVU88
 357 0054 074B     		ldr	r3, .L31+24
 358 0056 1860     		str	r0, [r3]
 359 0058 E1E7     		b	.L27
 360              	.L32:
 361 005a 00BF     		.align	2
 362              	.L31:
 363 005c 00000000 		.word	LDRxCallback
 364 0060 00000000 		.word	huart2
 365 0064 00000000 		.word	huart4
 366 0068 00000000 		.word	LDLostCallback
 367 006c 00000000 		.word	.LANCHOR2
 368 0070 00000000 		.word	.LANCHOR0
 369 0074 00000000 		.word	.LANCHOR1
 370              		.cfi_endproc
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 10


 371              	.LFE147:
 373              		.section	.bss.ld_daemon_instance,"aw",%nobits
 374              		.align	2
 375              		.set	.LANCHOR2,. + 0
 378              	ld_daemon_instance:
 379 0000 00000000 		.space	4
 380              		.section	.bss.lld_instance,"aw",%nobits
 381              		.align	2
 382              		.set	.LANCHOR0,. + 0
 385              	lld_instance:
 386 0000 00000000 		.space	4
 387              		.section	.bss.rld_instance,"aw",%nobits
 388              		.align	2
 389              		.set	.LANCHOR1,. + 0
 392              	rld_instance:
 393 0000 00000000 		.space	4
 394              		.text
 395              	.Letext0:
 396              		.file 2 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h"
 397              		.file 3 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 398              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 399              		.file 5 "d:\\rm\\arm-gnu-toolchian\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stddef.h"
 400              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 401              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 402              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 403              		.file 9 "modules/lidar/lidar.h"
 404              		.file 10 "Core/Inc/usart.h"
 405              		.file 11 "bsp/usart/bsp_usart.h"
 406              		.file 12 "modules/daemon/daemon.h"
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 lidar.c
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:19     .text.ld_buff_to_data:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:24     .text.ld_buff_to_data:00000000 ld_buff_to_data
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:121    .text.LDLostCallback:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:126    .text.LDLostCallback:00000000 LDLostCallback
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:167    .text.LDLostCallback:0000001c $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:174    .text.LDRxCallback:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:179    .text.LDRxCallback:00000000 LDRxCallback
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:244    .text.LDRxCallback:0000003c $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:253    .text.Lidar_Init:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:259    .text.Lidar_Init:00000000 Lidar_Init
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:363    .text.Lidar_Init:0000005c $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:374    .bss.ld_daemon_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:378    .bss.ld_daemon_instance:00000000 ld_daemon_instance
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:381    .bss.lld_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:385    .bss.lld_instance:00000000 lld_instance
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:388    .bss.rld_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccoGT5Y5.s:392    .bss.rld_instance:00000000 rld_instance

UNDEFINED SYMBOLS
USARTServiceInit
huart2
DaemonReload
huart4
DaemonRegister
USARTRegister
