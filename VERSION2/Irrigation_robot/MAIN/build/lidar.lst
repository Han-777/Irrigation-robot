ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"lidar.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.ld_buff_to_data,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	ld_buff_to_data:
  25              	.LVL0:
  26              	.LFB144:
  27              		.file 1 "modules/lidar/lidar.c"
   1:modules/lidar/lidar.c **** #include "lidar.h"
   2:modules/lidar/lidar.c **** #include "bsp_usart.h"
   3:modules/lidar/lidar.c **** #include "daemon.h"
   4:modules/lidar/lidar.c **** #include <string.h>
   5:modules/lidar/lidar.c **** 
   6:modules/lidar/lidar.c **** #define LIDAR_FRAME_SIZE 9 // lidar receive buffer size
   7:modules/lidar/lidar.c **** 
   8:modules/lidar/lidar.c **** static LD_data_t *ld_data;
   9:modules/lidar/lidar.c **** // static USARTInstance *ld_instance[2] = {NULL};
  10:modules/lidar/lidar.c **** static DaemonInstance *ld_daemon_instance;
  11:modules/lidar/lidar.c **** static USARTInstance *lld_instance; // left lidar
  12:modules/lidar/lidar.c **** static USARTInstance *rld_instance; // right lidar
  13:modules/lidar/lidar.c **** /**
  14:modules/lidar/lidar.c ****  * @brief lidar data parses
  15:modules/lidar/lidar.c ****  * ÂÜÖÈÉ®Âà§Êñ≠usart_instanceÁªôÂ∑¶Âè≥lidarËµãÂÄº
  16:modules/lidar/lidar.c ****  * @param ld_buff Êé•Êî∂buffer
  17:modules/lidar/lidar.c ****  */
  18:modules/lidar/lidar.c **** static uint16_t ld_buff_to_data(const uint8_t *ld_buff)
  19:modules/lidar/lidar.c **** {
  28              		.loc 1 19 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  20:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  33              		.loc 1 20 5 view .LVU1
  34              		.loc 1 20 17 is_stmt 0 view .LVU2
  35 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  36              		.loc 1 20 8 view .LVU3
  37 0002 592B     		cmp	r3, #89
  38 0004 01D0     		beq	.L8
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 2


  21:modules/lidar/lidar.c ****     {
  22:modules/lidar/lidar.c ****         uint8_t checksum = 0;
  23:modules/lidar/lidar.c ****         for (uint8_t i = 0; i < 8; i++)
  24:modules/lidar/lidar.c ****         {
  25:modules/lidar/lidar.c ****             checksum += ld_buff[i];
  26:modules/lidar/lidar.c ****         }
  27:modules/lidar/lidar.c ****         if (checksum == ld_buff[8])
  28:modules/lidar/lidar.c ****         {
  29:modules/lidar/lidar.c ****             return (uint16_t)(ld_buff[3] << 8 | ld_buff[2]);
  30:modules/lidar/lidar.c ****         }
  31:modules/lidar/lidar.c ****     }
  32:modules/lidar/lidar.c ****     return 0; // ÂçèËÆÆÈîôËØØ
  39              		.loc 1 32 12 view .LVU4
  40 0006 0020     		movs	r0, #0
  41              	.LVL1:
  42              		.loc 1 32 12 view .LVU5
  43 0008 7047     		bx	lr
  44              	.LVL2:
  45              	.L8:
  20:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  46              		.loc 1 20 41 discriminator 1 view .LVU6
  47 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  20:modules/lidar/lidar.c ****     if ((ld_buff[0] == 0x59) && (ld_buff[1] == 0x59))
  48              		.loc 1 20 30 discriminator 1 view .LVU7
  49 000c 592B     		cmp	r3, #89
  50 000e 0DD0     		beq	.L6
  51              		.loc 1 32 12 view .LVU8
  52 0010 0020     		movs	r0, #0
  53              	.LVL3:
  54              		.loc 1 32 12 view .LVU9
  55 0012 7047     		bx	lr
  56              	.LVL4:
  57              	.L4:
  58              	.LBB2:
  59              	.LBB3:
  25:modules/lidar/lidar.c ****         }
  60              		.loc 1 25 13 is_stmt 1 discriminator 3 view .LVU10
  25:modules/lidar/lidar.c ****         }
  61              		.loc 1 25 32 is_stmt 0 discriminator 3 view .LVU11
  62 0014 C15C     		ldrb	r1, [r0, r3]	@ zero_extendqisi2
  25:modules/lidar/lidar.c ****         }
  63              		.loc 1 25 22 discriminator 3 view .LVU12
  64 0016 0A44     		add	r2, r2, r1
  65              	.LVL5:
  25:modules/lidar/lidar.c ****         }
  66              		.loc 1 25 22 discriminator 3 view .LVU13
  67 0018 D2B2     		uxtb	r2, r2
  68              	.LVL6:
  23:modules/lidar/lidar.c ****         {
  69              		.loc 1 23 36 is_stmt 1 discriminator 3 view .LVU14
  23:modules/lidar/lidar.c ****         {
  70              		.loc 1 23 37 is_stmt 0 discriminator 3 view .LVU15
  71 001a 0133     		adds	r3, r3, #1
  72              	.LVL7:
  23:modules/lidar/lidar.c ****         {
  73              		.loc 1 23 37 discriminator 3 view .LVU16
  74 001c DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 3


  75              	.LVL8:
  76              	.L3:
  23:modules/lidar/lidar.c ****         {
  77              		.loc 1 23 29 is_stmt 1 discriminator 1 view .LVU17
  23:modules/lidar/lidar.c ****         {
  78              		.loc 1 23 9 is_stmt 0 discriminator 1 view .LVU18
  79 001e 072B     		cmp	r3, #7
  80 0020 F8D9     		bls	.L4
  81              	.LBE3:
  27:modules/lidar/lidar.c ****         {
  82              		.loc 1 27 9 is_stmt 1 view .LVU19
  27:modules/lidar/lidar.c ****         {
  83              		.loc 1 27 32 is_stmt 0 view .LVU20
  84 0022 037A     		ldrb	r3, [r0, #8]	@ zero_extendqisi2
  85              	.LVL9:
  27:modules/lidar/lidar.c ****         {
  86              		.loc 1 27 12 view .LVU21
  87 0024 9342     		cmp	r3, r2
  88 0026 04D0     		beq	.L9
  89              	.LBE2:
  90              		.loc 1 32 12 view .LVU22
  91 0028 0020     		movs	r0, #0
  92              	.LVL10:
  33:modules/lidar/lidar.c **** }
  93              		.loc 1 33 1 view .LVU23
  94 002a 7047     		bx	lr
  95              	.LVL11:
  96              	.L6:
  97              	.LBB5:
  98              	.LBB4:
  23:modules/lidar/lidar.c ****         {
  99              		.loc 1 23 22 view .LVU24
 100 002c 0023     		movs	r3, #0
 101              	.LBE4:
  22:modules/lidar/lidar.c ****         for (uint8_t i = 0; i < 8; i++)
 102              		.loc 1 22 17 view .LVU25
 103 002e 1A46     		mov	r2, r3
 104 0030 F5E7     		b	.L3
 105              	.LVL12:
 106              	.L9:
  29:modules/lidar/lidar.c ****         }
 107              		.loc 1 29 13 is_stmt 1 view .LVU26
  29:modules/lidar/lidar.c ****         }
 108              		.loc 1 29 38 is_stmt 0 view .LVU27
 109 0032 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  29:modules/lidar/lidar.c ****         }
 110              		.loc 1 29 56 view .LVU28
 111 0034 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 112              	.LVL13:
  29:modules/lidar/lidar.c ****         }
 113              		.loc 1 29 20 view .LVU29
 114 0036 40EA0320 		orr	r0, r0, r3, lsl #8
 115 003a 7047     		bx	lr
 116              	.LBE5:
 117              		.cfi_endproc
 118              	.LFE144:
 120              		.section	.text.LDLostCallback,"ax",%progbits
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 4


 121              		.align	1
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 126              	LDLostCallback:
 127              	.LVL14:
 128              	.LFB146:
  34:modules/lidar/lidar.c **** 
  35:modules/lidar/lidar.c **** /**
  36:modules/lidar/lidar.c ****  * @brief ld_buff_to_data,Áî®‰∫éÊ≥®ÂÜåÂà∞bsp_usartÁöÑÂõûË∞ÉÂáΩÊï∞‰∏≠
  37:modules/lidar/lidar.c ****  *
  38:modules/lidar/lidar.c ****  * @note huart2: the address of left lidar usart handle
  39:modules/lidar/lidar.c ****  *       huart4: the address of right lidar usart handle
  40:modules/lidar/lidar.c ****  */
  41:modules/lidar/lidar.c **** static void LDRxCallback(UART_HandleTypeDef *huart) // ‰∏≤Âè£Êé•Êî∂ÂõûË∞É_
  42:modules/lidar/lidar.c **** {
  43:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // ÂÖàÂñÇÁãó
  44:modules/lidar/lidar.c ****     if (huart == &huart2)
  45:modules/lidar/lidar.c ****     {
  46:modules/lidar/lidar.c ****         ld_data->lld_distance = ld_buff_to_data(lld_instance->recv_buff); // ËøõË°åÂçèËÆÆËß£Êûê
  47:modules/lidar/lidar.c ****     }
  48:modules/lidar/lidar.c ****     else if (huart == &huart4)
  49:modules/lidar/lidar.c ****     {
  50:modules/lidar/lidar.c ****         ld_data->rld_distance = ld_buff_to_data(rld_instance->recv_buff);
  51:modules/lidar/lidar.c ****     }
  52:modules/lidar/lidar.c **** }
  53:modules/lidar/lidar.c **** 
  54:modules/lidar/lidar.c **** /**
  55:modules/lidar/lidar.c ****  * @brief Èõ∑ËææÁ¶ªÁ∫øÁöÑÂõûË∞ÉÂáΩÊï∞,Ê≥®ÂÜåÂà∞ÂÆàÊä§ËøõÁ®ã‰∏≠,‰∏≤Âè£ÊéâÁ∫øÊó∂Ë∞ÉÁî®
  56:modules/lidar/lidar.c ****  * @note huart2: the address of left lidar usart handle
  57:modules/lidar/lidar.c ****  *       huart4: the address of right lidar usart handle
  58:modules/lidar/lidar.c ****  */
  59:modules/lidar/lidar.c **** static void LDLostCallback(void *id) // id is corresponding usart handle
  60:modules/lidar/lidar.c **** {
 129              		.loc 1 60 1 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		.loc 1 60 1 is_stmt 0 view .LVU31
 134 0000 08B5     		push	{r3, lr}
 135              	.LCFI0:
 136              		.cfi_def_cfa_offset 8
 137              		.cfi_offset 3, -8
 138              		.cfi_offset 14, -4
  61:modules/lidar/lidar.c ****     if (id == &huart2) // left lidar handle
 139              		.loc 1 61 5 is_stmt 1 view .LVU32
 140              		.loc 1 61 8 is_stmt 0 view .LVU33
 141 0002 094B     		ldr	r3, .L15
 142 0004 8342     		cmp	r3, r0
 143 0006 07D0     		beq	.L14
  62:modules/lidar/lidar.c ****     {
  63:modules/lidar/lidar.c ****         memset(ld_data->lld_distance, 0, sizeof(ld_data->lld_distance)); // Ê∏ÖÁ©∫Êï∞ÊçÆ
  64:modules/lidar/lidar.c ****         USARTServiceInit(lld_instance);                                  // Â∞ùËØïÈáçÊñ∞ÂêØÂä®Êé•Êî
  65:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
  66:modules/lidar/lidar.c ****     }
  67:modules/lidar/lidar.c ****     else
  68:modules/lidar/lidar.c ****     {
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 5


  69:modules/lidar/lidar.c ****         memset(ld_data->rld_distance, 0, sizeof(ld_data->rld_distance)); // Ê∏ÖÁ©∫Êï∞ÊçÆ
 144              		.loc 1 69 9 is_stmt 1 view .LVU34
 145              		.loc 1 69 23 is_stmt 0 view .LVU35
 146 0008 0023     		movs	r3, #0
 147 000a 5A88     		ldrh	r2, [r3, #2]
 148              		.loc 1 69 9 view .LVU36
 149 000c 1380     		strh	r3, [r2]	@ unaligned
  70:modules/lidar/lidar.c ****         USARTServiceInit(rld_instance);                                  // Â∞ùËØïÈáçÊñ∞ÂêØÂä®Êé•Êî
 150              		.loc 1 70 9 is_stmt 1 view .LVU37
 151 000e 074B     		ldr	r3, .L15+4
 152 0010 1868     		ldr	r0, [r3]
 153              	.LVL15:
 154              		.loc 1 70 9 is_stmt 0 view .LVU38
 155 0012 FFF7FEFF 		bl	USARTServiceInit
 156              	.LVL16:
 157              	.L10:
  71:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] right lidar lost");
  72:modules/lidar/lidar.c ****     }
  73:modules/lidar/lidar.c **** }
 158              		.loc 1 73 1 view .LVU39
 159 0016 08BD     		pop	{r3, pc}
 160              	.LVL17:
 161              	.L14:
  63:modules/lidar/lidar.c ****         USARTServiceInit(lld_instance);                                  // Â∞ùËØïÈáçÊñ∞ÂêØÂä®Êé•Êî
 162              		.loc 1 63 9 is_stmt 1 view .LVU40
  63:modules/lidar/lidar.c ****         USARTServiceInit(lld_instance);                                  // Â∞ùËØïÈáçÊñ∞ÂêØÂä®Êé•Êî
 163              		.loc 1 63 23 is_stmt 0 view .LVU41
 164 0018 0023     		movs	r3, #0
 165 001a 1A88     		ldrh	r2, [r3]
  63:modules/lidar/lidar.c ****         USARTServiceInit(lld_instance);                                  // Â∞ùËØïÈáçÊñ∞ÂêØÂä®Êé•Êî
 166              		.loc 1 63 9 view .LVU42
 167 001c 1380     		strh	r3, [r2]	@ unaligned
  64:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
 168              		.loc 1 64 9 is_stmt 1 view .LVU43
 169 001e 044B     		ldr	r3, .L15+8
 170 0020 1868     		ldr	r0, [r3]
 171              	.LVL18:
  64:modules/lidar/lidar.c ****         // LOGWARNING("[lidar] left lidar lost");
 172              		.loc 1 64 9 is_stmt 0 view .LVU44
 173 0022 FFF7FEFF 		bl	USARTServiceInit
 174              	.LVL19:
 175 0026 F6E7     		b	.L10
 176              	.L16:
 177              		.align	2
 178              	.L15:
 179 0028 00000000 		.word	huart2
 180 002c 00000000 		.word	.LANCHOR1
 181 0030 00000000 		.word	.LANCHOR0
 182              		.cfi_endproc
 183              	.LFE146:
 185              		.section	.text.LDRxCallback,"ax",%progbits
 186              		.align	1
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 191              	LDRxCallback:
 192              	.LVL20:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 6


 193              	.LFB145:
  42:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // ÂÖàÂñÇÁãó
 194              		.loc 1 42 1 is_stmt 1 view -0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
  42:modules/lidar/lidar.c ****     DaemonReload(ld_daemon_instance); // ÂÖàÂñÇÁãó
 198              		.loc 1 42 1 is_stmt 0 view .LVU46
 199 0000 10B5     		push	{r4, lr}
 200              	.LCFI1:
 201              		.cfi_def_cfa_offset 8
 202              		.cfi_offset 4, -8
 203              		.cfi_offset 14, -4
 204 0002 0446     		mov	r4, r0
  43:modules/lidar/lidar.c ****     if (huart == &huart2)
 205              		.loc 1 43 5 is_stmt 1 view .LVU47
 206 0004 0C4B     		ldr	r3, .L23
 207 0006 1868     		ldr	r0, [r3]
 208              	.LVL21:
  43:modules/lidar/lidar.c ****     if (huart == &huart2)
 209              		.loc 1 43 5 is_stmt 0 view .LVU48
 210 0008 FFF7FEFF 		bl	DaemonReload
 211              	.LVL22:
  44:modules/lidar/lidar.c ****     {
 212              		.loc 1 44 5 is_stmt 1 view .LVU49
  44:modules/lidar/lidar.c ****     {
 213              		.loc 1 44 8 is_stmt 0 view .LVU50
 214 000c 0B4B     		ldr	r3, .L23+4
 215 000e 9C42     		cmp	r4, r3
 216 0010 03D0     		beq	.L21
  48:modules/lidar/lidar.c ****     {
 217              		.loc 1 48 10 is_stmt 1 view .LVU51
  48:modules/lidar/lidar.c ****     {
 218              		.loc 1 48 13 is_stmt 0 view .LVU52
 219 0012 0B4B     		ldr	r3, .L23+8
 220 0014 9C42     		cmp	r4, r3
 221 0016 07D0     		beq	.L22
 222              	.L17:
  52:modules/lidar/lidar.c **** 
 223              		.loc 1 52 1 view .LVU53
 224 0018 10BD     		pop	{r4, pc}
 225              	.LVL23:
 226              	.L21:
  46:modules/lidar/lidar.c ****     }
 227              		.loc 1 46 9 is_stmt 1 view .LVU54
  46:modules/lidar/lidar.c ****     }
 228              		.loc 1 46 33 is_stmt 0 view .LVU55
 229 001a 0A4B     		ldr	r3, .L23+12
 230 001c 1868     		ldr	r0, [r3]
 231 001e FFF7FEFF 		bl	ld_buff_to_data
 232              	.LVL24:
  46:modules/lidar/lidar.c ****     }
 233              		.loc 1 46 31 view .LVU56
 234 0022 0023     		movs	r3, #0
 235 0024 1880     		strh	r0, [r3]	@ movhi
 236 0026 F7E7     		b	.L17
 237              	.L22:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 7


  50:modules/lidar/lidar.c ****     }
 238              		.loc 1 50 9 is_stmt 1 view .LVU57
  50:modules/lidar/lidar.c ****     }
 239              		.loc 1 50 33 is_stmt 0 view .LVU58
 240 0028 074B     		ldr	r3, .L23+16
 241 002a 1868     		ldr	r0, [r3]
 242 002c FFF7FEFF 		bl	ld_buff_to_data
 243              	.LVL25:
  50:modules/lidar/lidar.c ****     }
 244              		.loc 1 50 31 view .LVU59
 245 0030 0023     		movs	r3, #0
 246 0032 5880     		strh	r0, [r3, #2]	@ movhi
  52:modules/lidar/lidar.c **** 
 247              		.loc 1 52 1 view .LVU60
 248 0034 F0E7     		b	.L17
 249              	.L24:
 250 0036 00BF     		.align	2
 251              	.L23:
 252 0038 00000000 		.word	.LANCHOR2
 253 003c 00000000 		.word	huart2
 254 0040 00000000 		.word	huart4
 255 0044 00000000 		.word	.LANCHOR0
 256 0048 00000000 		.word	.LANCHOR1
 257              		.cfi_endproc
 258              	.LFE145:
 260              		.section	.text.Lidar_Init,"ax",%progbits
 261              		.align	1
 262              		.global	Lidar_Init
 263              		.syntax unified
 264              		.thumb
 265              		.thumb_func
 267              	Lidar_Init:
 268              	.LVL26:
 269              	.LFB147:
  74:modules/lidar/lidar.c **** 
  75:modules/lidar/lidar.c **** LD_data_t *Lidar_Init(UART_HandleTypeDef *ld_usart_handle)
  76:modules/lidar/lidar.c **** {
 270              		.loc 1 76 1 is_stmt 1 view -0
 271              		.cfi_startproc
 272              		@ args = 0, pretend = 0, frame = 24
 273              		@ frame_needed = 0, uses_anonymous_args = 0
 274              		.loc 1 76 1 is_stmt 0 view .LVU62
 275 0000 10B5     		push	{r4, lr}
 276              	.LCFI2:
 277              		.cfi_def_cfa_offset 8
 278              		.cfi_offset 4, -8
 279              		.cfi_offset 14, -4
 280 0002 86B0     		sub	sp, sp, #24
 281              	.LCFI3:
 282              		.cfi_def_cfa_offset 32
 283 0004 0446     		mov	r4, r0
  77:modules/lidar/lidar.c ****     USART_Init_Config_s conf;
 284              		.loc 1 77 5 is_stmt 1 view .LVU63
  78:modules/lidar/lidar.c ****     conf.module_callback = LDRxCallback;
 285              		.loc 1 78 5 view .LVU64
 286              		.loc 1 78 26 is_stmt 0 view .LVU65
 287 0006 154B     		ldr	r3, .L31
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 8


 288 0008 0593     		str	r3, [sp, #20]
  79:modules/lidar/lidar.c ****     conf.usart_handle = ld_usart_handle;
 289              		.loc 1 79 5 is_stmt 1 view .LVU66
 290              		.loc 1 79 23 is_stmt 0 view .LVU67
 291 000a 0490     		str	r0, [sp, #16]
  80:modules/lidar/lidar.c ****     conf.recv_buff_size = LIDAR_FRAME_SIZE;
 292              		.loc 1 80 5 is_stmt 1 view .LVU68
 293              		.loc 1 80 25 is_stmt 0 view .LVU69
 294 000c 0923     		movs	r3, #9
 295 000e 8DF80C30 		strb	r3, [sp, #12]
  81:modules/lidar/lidar.c ****     if (ld_usart_handle == &huart2) // left lidar handle
 296              		.loc 1 81 5 is_stmt 1 view .LVU70
 297              		.loc 1 81 8 is_stmt 0 view .LVU71
 298 0012 134B     		ldr	r3, .L31+4
 299 0014 9842     		cmp	r0, r3
 300 0016 10D0     		beq	.L29
  82:modules/lidar/lidar.c ****     {
  83:modules/lidar/lidar.c ****         ld_data->lld_distance = 0;
  84:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
  85:modules/lidar/lidar.c ****     }
  86:modules/lidar/lidar.c ****     else if (ld_usart_handle == &huart4) // right lidar handle
 301              		.loc 1 86 10 is_stmt 1 view .LVU72
 302              		.loc 1 86 13 is_stmt 0 view .LVU73
 303 0018 124B     		ldr	r3, .L31+8
 304 001a 9842     		cmp	r0, r3
 305 001c 15D0     		beq	.L30
 306              	.LVL27:
 307              	.L27:
  87:modules/lidar/lidar.c ****     {
  88:modules/lidar/lidar.c ****         ld_data->rld_distance = 0;
  89:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
  90:modules/lidar/lidar.c ****     }
  91:modules/lidar/lidar.c **** 
  92:modules/lidar/lidar.c ****     Daemon_Init_Config_s daemon_conf = {
 308              		.loc 1 92 5 is_stmt 1 view .LVU74
 309              		.loc 1 92 26 is_stmt 0 view .LVU75
 310 001e 0223     		movs	r3, #2
 311 0020 ADF80030 		strh	r3, [sp]	@ movhi
 312 0024 104B     		ldr	r3, .L31+12
 313 0026 0193     		str	r3, [sp, #4]
 314 0028 0294     		str	r4, [sp, #8]
  93:modules/lidar/lidar.c ****         .reload_count = 2, // ÁúãÈó®ÁãóÂæÖ‰∫ÜËß£_ 20msÊ≤°Êî∂Âà∞Ê∂àÊÅØ  ËæìÂá∫È¢ëÁéáÈªòËÆ§‰∏∫100Hz->
  94:modules/lidar/lidar.c ****         .callback = LDLostCallback,
  95:modules/lidar/lidar.c ****         .owner_id = ld_usart_handle,
  96:modules/lidar/lidar.c ****     };
  97:modules/lidar/lidar.c ****     ld_daemon_instance = DaemonRegister(&daemon_conf);
 315              		.loc 1 97 5 is_stmt 1 view .LVU76
 316              		.loc 1 97 26 is_stmt 0 view .LVU77
 317 002a 6846     		mov	r0, sp
 318 002c FFF7FEFF 		bl	DaemonRegister
 319              	.LVL28:
 320              		.loc 1 97 24 view .LVU78
 321 0030 0E4B     		ldr	r3, .L31+16
 322 0032 1860     		str	r0, [r3]
  98:modules/lidar/lidar.c ****     return ld_data;
 323              		.loc 1 98 5 is_stmt 1 view .LVU79
  99:modules/lidar/lidar.c **** }
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 9


 324              		.loc 1 99 1 is_stmt 0 view .LVU80
 325 0034 0020     		movs	r0, #0
 326 0036 06B0     		add	sp, sp, #24
 327              	.LCFI4:
 328              		.cfi_remember_state
 329              		.cfi_def_cfa_offset 8
 330              		@ sp needed
 331 0038 10BD     		pop	{r4, pc}
 332              	.LVL29:
 333              	.L29:
 334              	.LCFI5:
 335              		.cfi_restore_state
  83:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
 336              		.loc 1 83 9 is_stmt 1 view .LVU81
  83:modules/lidar/lidar.c ****         lld_instance = USARTRegister(&conf);
 337              		.loc 1 83 31 is_stmt 0 view .LVU82
 338 003a 0023     		movs	r3, #0
 339 003c 1B80     		strh	r3, [r3]	@ movhi
  84:modules/lidar/lidar.c ****     }
 340              		.loc 1 84 9 is_stmt 1 view .LVU83
  84:modules/lidar/lidar.c ****     }
 341              		.loc 1 84 24 is_stmt 0 view .LVU84
 342 003e 03A8     		add	r0, sp, #12
 343              	.LVL30:
  84:modules/lidar/lidar.c ****     }
 344              		.loc 1 84 24 view .LVU85
 345 0040 FFF7FEFF 		bl	USARTRegister
 346              	.LVL31:
  84:modules/lidar/lidar.c ****     }
 347              		.loc 1 84 22 view .LVU86
 348 0044 0A4B     		ldr	r3, .L31+20
 349 0046 1860     		str	r0, [r3]
 350 0048 E9E7     		b	.L27
 351              	.LVL32:
 352              	.L30:
  88:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
 353              		.loc 1 88 9 is_stmt 1 view .LVU87
  88:modules/lidar/lidar.c ****         rld_instance = USARTRegister(&conf);
 354              		.loc 1 88 31 is_stmt 0 view .LVU88
 355 004a 0023     		movs	r3, #0
 356 004c 5B80     		strh	r3, [r3, #2]	@ movhi
  89:modules/lidar/lidar.c ****     }
 357              		.loc 1 89 9 is_stmt 1 view .LVU89
  89:modules/lidar/lidar.c ****     }
 358              		.loc 1 89 24 is_stmt 0 view .LVU90
 359 004e 03A8     		add	r0, sp, #12
 360              	.LVL33:
  89:modules/lidar/lidar.c ****     }
 361              		.loc 1 89 24 view .LVU91
 362 0050 FFF7FEFF 		bl	USARTRegister
 363              	.LVL34:
  89:modules/lidar/lidar.c ****     }
 364              		.loc 1 89 22 view .LVU92
 365 0054 074B     		ldr	r3, .L31+24
 366 0056 1860     		str	r0, [r3]
 367 0058 E1E7     		b	.L27
 368              	.L32:
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 10


 369 005a 00BF     		.align	2
 370              	.L31:
 371 005c 00000000 		.word	LDRxCallback
 372 0060 00000000 		.word	huart2
 373 0064 00000000 		.word	huart4
 374 0068 00000000 		.word	LDLostCallback
 375 006c 00000000 		.word	.LANCHOR2
 376 0070 00000000 		.word	.LANCHOR0
 377 0074 00000000 		.word	.LANCHOR1
 378              		.cfi_endproc
 379              	.LFE147:
 381              		.section	.bss.ld_daemon_instance,"aw",%nobits
 382              		.align	2
 383              		.set	.LANCHOR2,. + 0
 386              	ld_daemon_instance:
 387 0000 00000000 		.space	4
 388              		.section	.bss.lld_instance,"aw",%nobits
 389              		.align	2
 390              		.set	.LANCHOR0,. + 0
 393              	lld_instance:
 394 0000 00000000 		.space	4
 395              		.section	.bss.rld_instance,"aw",%nobits
 396              		.align	2
 397              		.set	.LANCHOR1,. + 0
 400              	rld_instance:
 401 0000 00000000 		.space	4
 402              		.text
 403              	.Letext0:
 404              		.file 2 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h"
 405              		.file 3 "d:\\rm\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 406              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 407              		.file 5 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 408              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 409              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 410              		.file 8 "Core/Inc/usart.h"
 411              		.file 9 "bsp/usart/bsp_usart.h"
 412              		.file 10 "modules/lidar/lidar.h"
 413              		.file 11 "modules/daemon/daemon.h"
ARM GAS  C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 lidar.c
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:19     .text.ld_buff_to_data:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:24     .text.ld_buff_to_data:00000000 ld_buff_to_data
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:121    .text.LDLostCallback:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:126    .text.LDLostCallback:00000000 LDLostCallback
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:179    .text.LDLostCallback:00000028 $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:186    .text.LDRxCallback:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:191    .text.LDRxCallback:00000000 LDRxCallback
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:252    .text.LDRxCallback:00000038 $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:261    .text.Lidar_Init:00000000 $t
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:267    .text.Lidar_Init:00000000 Lidar_Init
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:371    .text.Lidar_Init:0000005c $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:382    .bss.ld_daemon_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:386    .bss.ld_daemon_instance:00000000 ld_daemon_instance
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:389    .bss.lld_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:393    .bss.lld_instance:00000000 lld_instance
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:396    .bss.rld_instance:00000000 $d
C:\Users\blue\AppData\Local\Temp\ccPsc7OS.s:400    .bss.rld_instance:00000000 rld_instance

UNDEFINED SYMBOLS
USARTServiceInit
huart2
DaemonReload
huart4
DaemonRegister
USARTRegister
